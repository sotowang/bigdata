# 接口（带有默认方法）与抽象类的区别

|        | 接口（带默认方法）                                           | 抽象类                                     |
| ------ | ------------------------------------------------------------ | ------------------------------------------ |
| 相同点 |                                                              |                                            |
| 1      | 都可以有方法实现，Java8 之前接口不能有方法实现,Java8可以实现default修饰的方法 |                                            |
| 2      | 子类不需要实现全部的方法（Java8 之前接口的子类需要实现全部的方法） |                                            |
| 不同点 |                                                              |                                            |
| 1      | 可多继承                                                     | 不可多继承                                 |
| 2      | 变量默认为`public static final`,必须给初值，实现类中不能改变这个值 | 变量默认为friednly，值可以在子类中重新赋值 |



## 抽象类中可以有构造函数么

* 可以有，但构造函数只能通过构造函数链调用（构造函数链指从其他构造函数调用一个构造函数）
* **作用**
  * 初始化抽象类内部声明的通用变量，并被各种实现使用
  * 即使没提供任何构造器, 编译器会为抽象类添加默认无参构造器

## 抽象类可以实现接口么?需要实现所有的方法么?

* 可以,但因为是抽象的所以不需要实现所有的方法,好的做法是提供一个抽象基类以及一个接口来声明类型
* 举例
  * `java.util.List` 接口和相应的`java.util.AbstractList` 抽象类。`AbstractList` `实现了所有的通用方法,通过接口声明类型的优点,抽象类的灵活性在一个地方实现共同的行为

## 为何接口里的变量是 `public static final `

* static
  * 接口是多继承的，若一个类实现多个接口且具有相同名字的变量，此时变量可被实现类使用。
  * 若不是static，则变量来自哪个接口会有歧义。因此要通过接口来指定变量

* final
  * 变量首先是static，所有子类共享，若一子类修改会影响其他子类，使用final不允许修改

# 如何选择接口和抽象类

* 实现接口可使一个类向上转型至多个父类，接口可作为一个标记
  * `Serializable`和`Cloneable`接口被一类实现后，可被当做`Serializable`和`Cloneable`处理

- 若要创建的父类无任何方法定义或成员变量，优先接口
- 如果事先知道某种东西会成为基础类，那么第一个选择就是把它变成一个接口
- 只有在必须使用方法定义或者成员变量的时候，才应考虑采用抽象类













